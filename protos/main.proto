edition = "2023";

package messenger;

message ConnectMessage{
  string login = 1;
  string pipe_path = 2;
}
message DisconnectMessage{
  string login = 1;
  string pipe_path = 2;
}
message ConnectResponce{
  enum StatusType{
    OK = 0;
    ERROR = 1;
  }
  StatusType status = 1;
  string verbose = 2;
  string reading_pipe_path = 3;
}
message DisconnectResponce{
  enum StatusType{
    OK = 0;
    ERROR = 1;
  }
  StatusType status = 1;
  string verbose = 2;
}
message SendMessage{
  string sender_login = 1;
  string receiver_login = 2;
  string message = 3;
  string pipe_path = 4;
}
message MessageForUser{
  string sender_login = 1;
  string message = 2;
  int32 time = 3;
}
message SendResponce{
  enum StatusType{
    OK = 0;
    ERROR = 1;
  }
  StatusType status = 1;
  string verbose = 2;
}
message SendPostponedRequest{
  MessageForUser msg = 1;
  string receiver = 2;
  //time in seconds since epoch
  string pipe_path = 3;
}
message SendPostponedResponce{
  enum StatusType{
    OK = 0;
    ERROR = 1;
  }
  StatusType status = 1;
  string verbose = 2;
}
